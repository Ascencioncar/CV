<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva tu Turno - Barber√≠a</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 600px;
            margin: 40px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .logo {
            font-size: 32px;
            margin-bottom: 10px;
        }
        .step {
            margin-bottom: 25px;
        }
        .step-title {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-weight: bold;
            font-size: 18px;
        }
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background-color: #333;
            color: white;
            border-radius: 50%;
            margin-right: 10px;
        }
        .services {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        .service-option {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .service-option:hover {
            border-color: #333;
        }
        .service-option.selected {
            background-color: #333;
            color: white;
            border-color: #333;
        }
        .service-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .service-price {
            color: #666;
            font-size: 14px;
        }
        .service-option.selected .service-price {
            color: #f5f5f5;
        }
        .barbers {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }
        .barber-option {
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .barber-option:hover {
            border-color: #333;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .barber-option.selected {
            background-color: #333;
            color: white;
            border-color: #333;
        }
        .barber-avatar {
            font-size: 40px;
            margin-bottom: 10px;
        }
        .barber-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .barber-experience {
            color: #666;
            font-size: 14px;
        }
        .barber-option.selected .barber-experience {
            color: #f5f5f5;
        }
        .calendar {
            margin-bottom: 20px;
        }
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .month-nav {
            cursor: pointer;
            padding: 5px 10px;
            background-color: #eee;
            border-radius: 4px;
        }
        .days-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }
        .day-name {
            text-align: center;
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
        }
        .day {
            padding: 10px 0;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }
        .day:hover {
            background-color: #f0f0f0;
        }
        .day.selected {
            background-color: #333;
            color: white;
        }
        .day.disabled {
            color: #ccc;
            cursor: not-allowed;
        }
        .time-sections {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }
        .time-section {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            background-color: #fafafa;
        }
        .time-section.selected {
            border-color: #333;
            background-color: #f0f0f0;
        }
        .time-section-title {
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
            color: #333;
        }
        .time-section-subtitle {
            text-align: center;
            font-size: 12px;
            color: #666;
            margin-bottom: 15px;
        }
        .time-slots {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
        }
        .time-slot {
            padding: 8px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }
        .time-slot:hover {
            background-color: #e0e0e0;
        }
        .time-slot.selected {
            background-color: #333;
            color: white;
        }
        .time-slot.disabled {
            color: #ccc;
            cursor: not-allowed;
            background-color: #f9f9f9;
        }
        .summary {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .summary-label {
            font-weight: bold;
        }
        .btn {
            width: 100%;
            padding: 15px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        .btn:hover {
            background-color: #555;
        }
        .btn-secondary {
            background-color: #666;
            margin-top: 10px;
        }
        .btn-secondary:hover {
            background-color: #777;
        }
        .hidden {
            display: none;
        }
        .step-container {
            overflow: hidden;
            transition: height 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">‚úÇÔ∏è</div>
            <h1>Barber√≠a El Estilo</h1>
            <p>Reserva tu turno en simples pasos</p>
        </header>

        <!-- Step 1: Select Service -->
        <div class="step" id="step1">
            <div class="step-title">
                <div class="step-number">1</div>
                Selecciona un servicio
            </div>
            <div class="services">
                <div class="service-option" onclick="selectService('corte', 'Corte de Cabello', '$15')">
                    <div class="service-name">Corte de Cabello</div>
                    <div class="service-price">$15 - 25min</div>
                </div>
                <div class="service-option" onclick="selectService('barba', 'Arreglo de Barba', '$10')">
                    <div class="service-name">Arreglo de Barba</div>
                    <div class="service-price">$10 - 25min</div>
                </div>
                <div class="service-option" onclick="selectService('combo', 'Corte + Barba', '$22')">
                    <div class="service-name">Corte + Barba</div>
                    <div class="service-price">$22 - 50min</div>
                </div>
                <div class="service-option" onclick="selectService('deluxe', 'Servicio Deluxe', '$30')">
                    <div class="service-name">Servicio Deluxe</div>
                    <div class="service-price">$30 - 50min</div>
                </div>
            </div>
        </div>

        <!-- Step 2: Select Barber -->
        <div class="step hidden" id="step2">
            <div class="step-title">
                <div class="step-number">2</div>
                Selecciona tu barbero
            </div>
            <div class="barbers">
                <div class="barber-option" onclick="selectBarber('carlos', 'Carlos Mendoza')">
                    <div class="barber-avatar">üë®‚Äçü¶≤</div>
                    <div class="barber-name">Carlos Mendoza</div>
                    <div class="barber-experience">5 a√±os de experiencia</div>
                </div>
                <div class="barber-option" onclick="selectBarber('miguel', 'Miguel Rodriguez')">
                    <div class="barber-avatar">üë®‚Äçü¶±</div>
                    <div class="barber-name">Miguel Rodriguez</div>
                    <div class="barber-experience">8 a√±os de experiencia</div>
                </div>
                <div class="barber-option" onclick="selectBarber('jose', 'Jos√© Garc√≠a')">
                    <div class="barber-avatar">üë®‚Äçü¶≥</div>
                    <div class="barber-name">Jos√© Garc√≠a</div>
                    <div class="barber-experience">12 a√±os de experiencia</div>
                </div>
                <div class="barber-option" onclick="selectBarber('david', 'David L√≥pez')">
                    <div class="barber-avatar">üë®</div>
                    <div class="barber-name">David L√≥pez</div>
                    <div class="barber-experience">3 a√±os de experiencia</div>
                </div>
            </div>
            <button class="btn btn-secondary" onclick="goBack(1)">Volver</button>
        </div>

        <!-- Step 3: Select Date -->
        <div class="step hidden" id="step3">
            <div class="step-title">
                <div class="step-number">3</div>
                Selecciona una fecha
            </div>
            <div class="calendar">
                <div class="calendar-header">
                    <div class="month-nav" onclick="changeMonth(-1)">&#9664; Anterior</div>
                    <div class="current-month" id="currentMonth">Junio 2025</div>
                    <div class="month-nav" onclick="changeMonth(1)">Siguiente &#9654;</div>
                </div>
                <div class="days-grid">
                    <div class="day-name">Do</div>
                    <div class="day-name">Lu</div>
                    <div class="day-name">Ma</div>
                    <div class="day-name">Mi</div>
                    <div class="day-name">Ju</div>
                    <div class="day-name">Vi</div>
                    <div class="day-name">Sa</div>
                </div>
                <div class="days-grid" id="calendar-days">
                    <!-- Days will be generated here -->
                </div>
            </div>
            <button class="btn btn-secondary" onclick="goBack(2)">Volver</button>
        </div>

        <!-- Step 4: Select Time and Schedule -->
        <div class="step hidden" id="step4">
            <div class="step-title">
                <div class="step-number">4</div>
                Horarios disponibles
            </div>
            <p style="text-align: center; margin-bottom: 20px; color: #666;">
                <span id="selected-date-display">Fecha seleccionada</span>
            </p>
            
            <div class="time-sections">
                <div class="time-section" data-period="morning">
                    <div class="time-section-title">MA√ëANA</div>
                    <div class="time-section-subtitle">Sin horas para reservar</div>
                    <div class="time-slots" id="morning-slots">
                        <!-- Morning slots will be generated here -->
                    </div>
                </div>
                
                <div class="time-section" data-period="afternoon">
                    <div class="time-section-title">TARDE</div>
                    <div class="time-section-subtitle">Sin horas para reservar</div>
                    <div class="time-slots" id="afternoon-slots">
                        <!-- Afternoon slots will be generated here -->
                    </div>
                </div>
                
                <div class="time-section" data-period="evening">
                    <div class="time-section-title">NOCHE</div>
                    <div class="time-section-subtitle">Sin horas para reservar</div>
                    <div class="time-slots" id="evening-slots">
                        <!-- Evening slots will be generated here -->
                    </div>
                </div>
            </div>
            
            <button class="btn btn-secondary" onclick="goBack(3)">Volver</button>
        </div>

        <!-- Step 5: Confirmation -->
        <div class="step hidden" id="step5">
            <div class="step-title">
                <div class="step-number">5</div>
                Confirma tu reserva
            </div>
            <div class="summary">
                <div class="summary-row">
                    <span class="summary-label">Servicio:</span>
                    <span id="summary-service">-</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Barbero:</span>
                    <span id="summary-barber">-</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Precio:</span>
                    <span id="summary-price">-</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Fecha:</span>
                    <span id="summary-date">-</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Hora:</span>
                    <span id="summary-time">-</span>
                </div>
            </div>
            <button class="btn" onclick="confirmBooking()">Confirmar Reserva</button>
            <button class="btn btn-secondary" onclick="goBack(4)">Volver</button>
        </div>

        <!-- Step 6: Success -->
        <div class="step hidden" id="step6">
            <div style="text-align: center; padding: 40px 0;">
                <div style="font-size: 50px; margin-bottom: 20px;">‚úÖ</div>
                <h2>¬°Reserva Confirmada!</h2>
                <p>Te esperamos el <span id="confirmed-date">-</span> a las <span id="confirmed-time">-</span></p>
                <p>Con el barbero: <span id="confirmed-barber">-</span></p>
                <p>Servicio: <span id="confirmed-service">-</span></p>
                <button class="btn" onclick="startOver()">Hacer otra reserva</button>
            </div>
        </div>
    </div>

    <script>
        // Globals
        let currentStep = 1;
        let selectedService = '';
        let selectedServiceName = '';
        let selectedServicePrice = '';
        let selectedBarber = '';
        let selectedBarberName = '';
        let selectedDate = '';
        let selectedTime = '';
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();

        // Initialize calendar
        function initCalendar() {
            const today = new Date();
            currentMonth = today.getMonth();
            currentYear = today.getFullYear();
            renderCalendar();
        }

        // Render calendar days
        function renderCalendar() {
            const daysContainer = document.getElementById('calendar-days');
            daysContainer.innerHTML = '';
            
            const firstDay = new Date(currentYear, currentMonth, 1);
            const lastDay = new Date(currentYear, currentMonth + 1, 0);
            const prevMonthLastDay = new Date(currentYear, currentMonth, 0);
            
            document.getElementById('currentMonth').textContent = new Date(currentYear, currentMonth).toLocaleDateString('es', { month: 'long', year: 'numeric' });
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay.getDay(); i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day disabled';
                dayElement.textContent = prevMonthLastDay.getDate() - (firstDay.getDay() - i - 1);
                daysContainer.appendChild(dayElement);
            }
            
            // Add days of the current month
            const today = new Date();
            for (let i = 1; i <= lastDay.getDate(); i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day';
                dayElement.textContent = i;
                
                // Disable past dates
                const thisDate = new Date(currentYear, currentMonth, i);
                if (thisDate < new Date(today.getFullYear(), today.getMonth(), today.getDate())) {
                    dayElement.className = 'day disabled';
                } else {
                    dayElement.addEventListener('click', () => selectDate(i));
                }
                
                daysContainer.appendChild(dayElement);
            }
            
            // Add empty cells for days after the last day of the month
            const remainingCells = 42 - (firstDay.getDay() + lastDay.getDate());
            for (let i = 1; i <= remainingCells; i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day disabled';
                dayElement.textContent = i;
                daysContainer.appendChild(dayElement);
            }
        }

        // Change month
        function changeMonth(direction) {
            currentMonth += direction;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            } else if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderCalendar();
        }

        // Select service
        function selectService(service, name, price) {
            // Clear previous selection
            document.querySelectorAll('.service-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Mark as selected
            event.currentTarget.classList.add('selected');
            
            selectedService = service;
            selectedServiceName = name;
            selectedServicePrice = price;
            
            // Move to next step
            setTimeout(() => {
                nextStep();
            }, 300);
        }

        // Select barber
        function selectBarber(barberId, barberName) {
            // Clear previous selection
            document.querySelectorAll('.barber-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Mark as selected
            event.currentTarget.classList.add('selected');
            
            selectedBarber = barberId;
            selectedBarberName = barberName;
            
            // Move to next step
            setTimeout(() => {
                nextStep();
            }, 300);
        }

        // Select date
        function selectDate(day) {
            // Clear previous selection
            document.querySelectorAll('.day').forEach(dayElem => {
                if (!dayElem.classList.contains('disabled')) {
                    dayElem.classList.remove('selected');
                }
            });
            
            // Mark as selected
            event.currentTarget.classList.add('selected');
            
            // Format the date
            const monthNames = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            selectedDate = `${day} de ${monthNames[currentMonth]} de ${currentYear}`;
            
            // Update the date display in the time selection step
            document.getElementById('selected-date-display').textContent = selectedDate;
            
            // Generate time slots
            generateTimeSlots();
            
            // Move to next step
            setTimeout(() => {
                nextStep();
            }, 300);
        }

        // Generate time slots organized by periods
        function generateTimeSlots() {
            const morningContainer = document.getElementById('morning-slots');
            const afternoonContainer = document.getElementById('afternoon-slots');
            const eveningContainer = document.getElementById('evening-slots');
            
            // Clear previous slots
            morningContainer.innerHTML = '';
            afternoonContainer.innerHTML = '';
            eveningContainer.innerHTML = '';
            
            const timeSlots = {
                morning: [],
                afternoon: [],
                evening: []
            };
            
            // Generate time slots from 8:00 AM to 8:00 PM
            let hour = 8;
            let minute = 0;
            
            while (hour < 20) {
                const formattedHour = hour % 12 === 0 ? 12 : hour % 12;
                const amPm = hour < 12 ? 'AM' : 'PM';
                const formattedMinute = minute === 0 ? '00' : minute;
                const timeText = `${formattedHour}:${formattedMinute} ${amPm}`;
                
                // Categorize by time period
                if (hour < 12) {
                    timeSlots.morning.push(timeText);
                } else if (hour < 18) {
                    timeSlots.afternoon.push(timeText);
                } else {
                    timeSlots.evening.push(timeText);
                }
                
                // Increment by 30 minutes
                minute += 30;
                if (minute >= 60) {
                    hour++;
                    minute = minute % 60;
                }
            }
            
            // Create slot elements for each period
            createTimeSlotElements(timeSlots.morning, morningContainer, 'morning');
            createTimeSlotElements(timeSlots.afternoon, afternoonContainer, 'afternoon');
            createTimeSlotElements(timeSlots.evening, eveningContainer, 'evening');
            
            // Update section subtitles
            updateSectionSubtitles();
        }
        
        function createTimeSlotElements(slots, container, period) {
            const sectionElement = container.closest('.time-section');
            
            if (slots.length === 0) {
                sectionElement.querySelector('.time-section-subtitle').textContent = 'Sin horas para reservar';
                return;
            }
            
            sectionElement.querySelector('.time-section-subtitle').textContent = `${slots.length} horas para reservar`;
            
            slots.forEach(timeText => {
                const timeSlot = document.createElement('div');
                timeSlot.className = 'time-slot';
                timeSlot.textContent = timeText;
                timeSlot.addEventListener('click', () => selectTime(timeText));
                container.appendChild(timeSlot);
            });
        }
        
        function updateSectionSubtitles() {
            const sections = ['morning', 'afternoon', 'evening'];
            sections.forEach(section => {
                const container = document.getElementById(`${section}-slots`);
                const sectionElement = container.closest('.time-section');
                const slots = container.children.length;
                
                if (slots > 0) {
                    sectionElement.querySelector('.time-section-subtitle').textContent = `${slots} horas para reservar`;
                } else {
                    sectionElement.querySelector('.time-section-subtitle').textContent = 'Sin horas para reservar';
                }
            });
        }

        // Select time
        function selectTime(time) {
            // Clear previous selection
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            // Mark as selected
            event.currentTarget.classList.add('selected');
            
            selectedTime = time;
            
            // Update summary
            document.getElementById('summary-service').textContent = selectedServiceName;
            document.getElementById('summary-barber').textContent = selectedBarberName;
            document.getElementById('summary-price').textContent = selectedServicePrice;
            document.getElementById('summary-date').textContent = selectedDate;
            document.getElementById('summary-time').textContent = selectedTime;
            
            // Move to next step
            setTimeout(() => {
                nextStep();
            }, 300);
        }

        // Next step
        function nextStep() {
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            currentStep++;
            document.getElementById(`step${currentStep}`).classList.remove('hidden');
        }

        // Go back
        function goBack(step) {
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            currentStep = step;
            document.getElementById(`step${currentStep}`).classList.remove('hidden');
        }

        // Confirm booking
        function confirmBooking() {
            // Update confirmation display
            document.getElementById('confirmed-date').textContent = selectedDate;
            document.getElementById('confirmed-time').textContent = selectedTime;
            document.getElementById('confirmed-barber').textContent = selectedBarberName;
            document.getElementById('confirmed-service').textContent = selectedServiceName;
            
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            currentStep++;
            document.getElementById(`step${currentStep}`).classList.remove('hidden');
        }

        // Start over
        function startOver() {
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            currentStep = 1;
            document.getElementById(`step${currentStep}`).classList.remove('hidden');
            
            // Clear all selections
            document.querySelectorAll('.service-option, .barber-option, .time-slot').forEach(option => {
                option.classList.remove('selected');
            });
            
            selectedService = '';
            selectedServiceName = '';
            selectedServicePrice = '';
            selectedBarber = '';
            selectedBarberName = '';
            selectedDate = '';
            selectedTime = '';
            
            initCalendar();
        }

        // Initialize
        window.onload = function() {
            initCalendar();
        };
    </script>
</body>
</html>